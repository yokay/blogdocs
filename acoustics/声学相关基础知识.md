>   转自CSDN[^1]

## 一、声音

人耳的听觉范围：20Hz~20kHz
不同的人在不同的状态下能听到的范围不同，测试过程中经常会读取1kHz的频响值作为参考数值。

## 二、声学相关参数

### 1.频率/周期/波长/波数

### 2.频程/频谱

#### 2.1 频程&倍频程

频程：频带，频率的相对尺度，两个声或信号之间的距离。把20Hz到20000Hz的声频范围分为几个段落，每个频带成为一个频程。
		倍频程：两信号频率之比取以2为底的对数值取为n，n表示倍频程数。

#### 2.2 频谱&频谱分析

频谱：把时间函数的分量按幅值或相位表示为频率的函数的分布图形。 周期越短频率越高，参考f=1/T。
		频谱分析：将时域信号加以傅里叶变换变换至频域进行分析的方法称为频谱分析。

### 3.声强/声功率/声压级/声强级/声功率级

#### 3.1 声强&声功率

声强(I)：声波平均能流密度的大小叫声强。
		声功率(W/P)：声强对面积积分，则为单位时间内通过一定面积的的声波能量叫做声功率。

#### 3.2 压级/声强级/声功率级

级：声学中一个量与同类基准量之比的对数，其单位为分贝。
		声压级：给定声压与参考声压之比取lg对数乘20，参考声压为20μPa
		声强级：：指该处的声强与参考声强的比值取lg对数值乘10，参考声强为I = 10^(-12 )w/m2 。
		声功率级：声功率与基准声功率之比取lg对数乘10， 基准声功率Wo为10^(-12)w。

### 4.响度/响度级/等响曲线

响度：描述声音的响亮程度，单位是宋(sone),定义频率为1kHz、声强级为40dB的1kHz纯音响度为1宋。
		响度级：用LN表示，指在数值上与此声音同响的1kHz纯音的声压级，单位是方(phon)。
		等响曲线：指典型听音者感觉响度相同的纯音的声压级与频率关系的曲线。
		计权网络：考虑到人耳听觉在不同的频率有不同的灵敏度，常配置一些特定的滤波电路，叫计权网络。一般声级测量均采用A 计权。A计权为 40Phone等响曲线的翻转，模拟55dB以下低强度噪声特性。由A 计权测量的声级称为A 声级，记作LPA或dB(A) 。

## 三、扬声器(喇叭)

### 1.类型

电动式/动圈式：与振膜固定在一起的线圈置于磁场中，通过电磁效应产生作用力带动振膜运动发声。
		压电式：高频好常做高音扬声器，压电材料施加电压缩张带动振膜运动发声。
		电磁式/舌簧式：带铁芯的线圈和薄钢膜，线圈通过电流时产生磁场，吸引钢膜运动发声。
		电容式/静电式：平板型电容器原理，通过信号的极性变化与相对电极产生吸引和排斥带动振膜运动发声。

### 2.声学参数

频率响应(FR)：恒定电压，声压随频率变化的曲线。
		灵敏度(SEN)：1mw电功率下耳机产生的仿真耳的声压级，一般灵敏度 越高、阻抗越小，耳机越容易出声、越容易驱动。
		有效频率响应范围：耳机能够放送出的频带的宽度。
		谐波失真(THD)：设备的输出不能完全复现其输入，产生了波形的畸变或者信号成分的增减。
		高次谐波失真(R&B)：R&B是杂音，为周期信号，产生于线圈的不规则振动，与产品组装工艺有关。
		阻抗(Impedance )：交流阻抗，随输入信号频率变化。
		谐振频率(F0)：在扬声器阻抗曲线中出现第一个阻抗最大值时的频率就是谐振频率。扬声器直径越大，谐振频率越小。
		额定功率/最大功率。

## 四、传声器(麦克风)

### 1.类型

电容式麦克风：依据电磁感应原理制成的，接受声波的膜片发生受迫振动，带动处于恒定磁场内的线圈，从而产生—交变的感应电动势，形成变化着的电信号。
		动圈式麦克风：依据接收声波的膜片构成电容，受迫振动后，其电容量发生变化从而产生—交变电压，形成变化着的电信号。
		驻极体麦克风：关键技术是应用了可驻留电荷的驻极体材料，具有电容传声器的优良特性，但不需要复杂的电路，并且与场效应管集成到一起，具有低阻输出特性，体积可以做的很小。
		MEMS麦克风：硅麦，指集微型传感器、执行器以及信号处理和控制电路、 接口电路、通信和电源于一体的微型机电系统。

### 2.声学参数

灵敏度：声信号转电信号速度指标。
		频率响应：传声器的频率响应是指传声器的灵敏度随频率变化的情况。
		固有噪声：传声器在没有声波入射时的输出电压。
		信噪比：传声器输出的电压与本底噪声的比值，信噪比（SNR or S/N)=灵敏度级-本底噪声级
		等效噪声级：假定有一声波作用在传声器上所产生的输出电压同传声器固有噪声产生的输出电压相等，则该声波的声压级就等于传声器的等效噪声级。
		最大声压级：在强声压作用下，传声器会产生谐波失真，声压愈高，谐波失真愈大，当谐波失真大到一定允许值时的声压级为传声器的最高声压级。
		动态范围：传声器所能接收声音的大小，上限受谐波失真的限制，下限受固有噪声的限制。
		谐波失真：产生了输入信号频率以外的新信号即不需要的谐波成分，称为谐波失真 。
		相位：指作用在传声器膜片上的声压的相位和传声器输出端的电压的相位之间的关系，相位差的变化是频率的函数。

## 五、音频测试

>   转自CSDN[^2]

音频系统是一个复杂的系统，需要从产品定位，电路设计，结构设计，物料选型，喇叭选型，音腔设计等多方面综合考虑。初步设计完成之后，还需要使用专业设备或者到专业的音频实验室进行音频相关的测试：基础声电测试；声质量测试；声功率测试；产品振动测试以及噪声测试等。

根据产品定位以及测试结果反复调整软硬件设计及参数，最终达到一个相对满意的声学效果。这是一个复杂而漫长的过程。

### 1.1 基础电声测试

基础电声测试是音频系统测试中最基础的一项测试，一般包括频率响应（FR）；总谐波失真（THD）；信噪比（SNR）以及声压级（SPL）。当然也可以根据需要增减指标。

基础声电测试对声学系统的一些基础指标进行了量化测量，能反映一个音频系统最基础的好坏。一个声学系统基础声电指标合格并表表示是一个好的声学系统，但是一个声学系统如果连基础声电指标都是很糟糕的，那一定不是一个优秀的声学系统。

### 1.2 测试指标

在基础声电中，比较重要的一个指标就是总谐波失真（THD）。

总谐波失真表明功放工作时，由于电路不可避免的振荡或其他谐振产生的二次，三次谐波与实际输入信号叠加，在输出端输出的信号就不单纯是与输入信号完全相同的成分，而是包括了谐波成分的信号，这些多余出来的谐波成分与实际输入信号的对比，用百分比来表示就称为总谐波失真。

一般普通声学系统的THD在2%～3%；低于1%人耳几乎就无法分辨了。

### 1.3 测试方法

一般采用闭环测试，不建议采用开环测试，在无法闭环测试的条件下开环测试也可以作为参考。

闭环测试一般有蓝牙传输、AUX接口传输，LINN/LINP端口输入。优先采用后两种输入，因为蓝牙模块也有可能导致失真叠加。

### 1.4 示例

下图是一个真实音频系统在-10dB输入下的总谐波失真（THD）。可以看到在200Hz以下的低频部分和8KHz左右的部分THD非常高，超过了50%。而在其他频段THD基本能够保持在5%以下。从图中可以看出这个音频系统还有非常大的改进空间。

![](https://pic1.zhimg.com/80/v2-465932c2d315b3220aa40bd42bb0492c_1440w.jpg)

## 六、分析框架

一个音频系统的总体失真，可以看作是三个部分的失真叠加而成的。这三个部分一般可以划分为：电路失真、结构失真和喇叭失真。

### 2.1 电路失真

电路失真是指：音频信号在电路中传输、转换过程中电磁干扰，转换器件失真以及谐振等原因产生的失真。
电路失真一般不大于3%，合格的电路失真一般小于0.5%。对于D类数字功放，毛刺（高频谐波）属于该类功放特性，基本无法消除，不影响使用下可以忽略。

### 2.2 结构失真

结构失真是指：音腔、前壳甚至产品整机的结构设计问题导致的音频在外方的过程中导致的反射、共振等失真。
对于由于结构导致反射，共振失真，如果频带非常窄，甚至是单频失真，可以忽略。因为正常使用情况下人耳几乎无法察觉。但是宽频失真需要认真处理。

### 2.3 喇叭失真

喇叭失真是指：喇叭在声电转换过程中发生的声音失真，这是由喇叭的结构，电磁学性能，材料等决定的。
喇叭的失真一般喇叭厂的喇叭规格书上会有标注，且一般会配有20Hz～20KHz的频响曲线及THD。这个失真的控制主要是和厂商沟通。

下图是某厂商喇叭的THD,可以看到基本在2%以下（忽略200Hz以下低频部分）。

![](https://pic4.zhimg.com/80/v2-91df27a3dfb8c5a26510a0f2f04ff227_1440w.jpg)

## 七、 解决方案

找到每个部分的问题之后，就需要针对每个部分的失真问题进行优化和调整。

### 3.1电路失真

在输出端采用两级滤波，最好是π滤波器或者倒L滤波器（2nF+470pF+uH）。

### 3.2 结构失真

不改变结构的修改：

对于反射失真：音腔增加吸音棉；增加软胶圈。
		对于共振：在共振点增加阻尼胶片。
		改变结构的修改：

音腔底部设计弧度尽量大（避免直角，最好为球面）
		前腔不能过大，过深。
		音腔声容积大于喇叭2倍

### 3.3 喇叭失真

喇叭在低频部分（200Hz）以下几乎没有响应，所以可以在电路上使用滤波器将200Hz以下的音频完全除掉，这样可以使得音质更加纯净。



[^1]:[原文链接](https://blog.csdn.net/weixin_44079460/article/details/108239300)
[^2]:[原文链接](https://blog.csdn.net/m0_37631324/article/details/105889698)

