# 经验总结

- 比较器输入端加滤波电路，滤除高频干扰，防止误触发。至少并联一个电容。推广到其他设计，就是差分输入预留对地和跨接电容。

- 运放的反馈端并联电容，或者并联RC。用于相位调整。 

- 差分运放适当设置偏置电压以提到动态范围，但是要注意放大倍数。

- 多级放大可以降低噪声，模拟电路上面有说明。

- 运放输出端注意容性负载导致震荡。

- WCA分析，注意最大最小值和蒙特卡罗分析值。

- 器件降额分析需包含电压、电流、温升。

- ADC输入需要RC电路抗混叠，但是要注意其输入电阻，是否能提供足够的电流驱动内部的保持电容。

- ADC的输入电流最好不大于10mA。

- ADC上电瞬间输入信号是否会超过最大电压。可适当加钳位二极管。

- 放大器注意输入共模信号太大会导致进入交越失真区域，导致输出信号失真，THD会升高。手册中会注明共模电压范围，超过范围就会出现交越失真。

- 测试数据以文档形式保存，写清楚测试过程，后面附上测试波形或测试记录表格。

- 同相放大器的输入阻抗高[^1]，获取的输入信号失真度低，信噪比高；反相放大器输入阻抗低，为了提高信噪比，需要提高输入阻抗，导致噪声提高。

  - 优点：输入阻抗和运放的输入阻抗相等，接近无穷大;
  - 缺点：放大电路没有虚地，因此有较大的共模电压，抗干扰能力相对较差，使用时要求运放有较高的共模抑制比，另一个小缺点就是放大倍数只能大于1。

- 反相放大器

  - 优点：两个输入端电位始终近似为零（同相端接地，反相端虚地），只有差模信号，抗干扰能力强;\

  - 缺点：输入阻抗很小，等于信号到输入端的串联电阻的阻值。

另外就是二者的增益计算公式不同，相位相反。

由此可见，对比它们要在以下几个方面：输入输出阻抗，共模的抗干扰

1、同相放大器的输入阻抗和运放的输入阻抗相等，接近无穷大，同相放大器的输入电阻取值大小不影响输入阻抗;而反相放大器的输入阻抗等于信号到输入端的串联电阻的阻值。因此当要求输入阻抗很高的时候就应选择同相放大器！

2、同相放大器的输入信号范围受运放的共模输入电压范围的限制，反相放大器则无此限制。因此如果要求输入阻抗不高且相位无要求时，首选反相放大，因为反相放大只存在差模信号，抗干扰能力强，可以得到更大的输入信号范围。

3、在设计中要求放大倍数相同的情况下尽量选择数值小的电阻配合，这样可以减小输入偏置电流的影响和分布电容的影响。如果很计较功耗，则要在电阻数值方面折中。



**关于负反馈**

> 负反馈即输入与输出的偏差

负反馈的字面意思就是反馈路径为从输出引入信号回放大器的-相端，绝不可能接到+相端。 

输入信号既可以从+相端输入也可以从-相端输入。+相进入，反馈信号接到-相端，两个信号求差；-相端进入，输入信号与反馈信号叠加。  

这里说下模拟电路上关于负反馈的分类。书上说有4类：电压反馈、电流反馈、串联反馈、并联反馈。

假设放大器输出端负载为RL，如果RL在反馈路径中则是电流反馈，否则为电压反馈。因为不参与反馈则说明引入的肯定是电压信号，参与反馈则输出电压除以负载电阻的电流返回到输入端。

输入信号接+相则为串联，否则为并联。可以理解为输入信号接到+时为与反馈信号串联，而接到-时是与反馈信号并联。

并联反馈的+相端为参考电平，这个电平可以是GND也可以是其他电压信号。

[^1]: [运算放大器中同相输入与反向输入的输入阻抗的区别](http://m.elecfans.com/article/589240.html)

