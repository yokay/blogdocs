# 运算放大器稳定性分析——运放SPICE模型建立

> Page 9概述 

在page 9中Tim Green描述了运放的SPICE模型的简单建立，分简要模型和详细模型。其实详细模型主要是对高频部分进行了细化。这里就说下对该章的理解。  

![运放拐点](https://mythidea.oss-cn-beijing.aliyuncs.com/Snipaste_2018-11-14_00-17-51.png)

要模仿一个运放就要模仿其BODE图。首先看图说话，BODE图中第一个Aol拐点在29Hz，这就是第一个极点。这个极点要用相位曲线决定，即45°点。前文说过极点处有前后45°变化，那么变化45°的点就是极点（零点亦如此）。这里用相位曲线可推断出第一个极点在29Hz，图中的Aol曲线大概在100Hz拐，我个人感觉没多大影响，29Hz与100Hz相差不大，建议还是按作者来。 

然后，当然也是相位曲线寻找。第一个极点相位变化90°，再要变化，则拐点在135°处。从相位曲线中可见135°在20MHz以上，大概25MHz。这是第二个极点。 

最后，Aol曲线在7.4MHz到达0dB增益。这个对模型建立没有影响，后期用于比对模型是否准确。因为29Hz~25MHz这条直线在BODE图上划过去肯定在7.4MHz左右。29Hz时为110dB，假设0dB处为xMHz，则(0dB-110dB)/log(xMHz-29Hz)=-20dB/decade，解得x=4.6MHz。 

使用SPICE模型仿真，其中极点和零点使用RC电路，使用压控电压源无损传递。

![模拟运放](https://mythidea.oss-cn-beijing.aliyuncs.com/Snipaste_2018-11-14_00-50-18.png)

仿真出来0dB为8.68MHz，为了与7.4MHz相符，需要修改优化。 

相位曲线相比仿真的结果更加陡峭，相位下降更快。为了获得同样的效果，则必然相位要继续下降才能保证斜率符合。在图1上划斜率曲线发现 -180°/decade的斜率存在。相位曲线在极点和零点处斜率固定为-45°，即1阶为45°下降，2阶90°，3阶180°，故需要3个极点或零点在同一个拐点。那么在某处就有3个极点。（个人认为这3个极点可以靠的近一点而无需都是一个点，不过这就与同一个极点类似，本身相近，是不是就可以“合并”为一个，当然仿真时可以考虑用3个不同极点去尝试） 